<template>
  <q-page class="frai-page">

    <div class="frai-grid">
      <!-- 1. –ö–∞–º–µ—Ä–∞ -->
      <div class="frai-cell camera-cell">
        <CameraPanel
          v-model:cameraOn="cameraOn"
          v-model:cameraFps="cameraFps"
          v-model:actuatorAngleX="actuatorAngleX"
          v-model:actuatorAngleY="actuatorAngleY"
          :previewWidth="previewWidth"
          :previewHeight="previewHeight"
        />
      </div>

      <!-- 2. TFT-—ç–º—É–ª—è—Ç–æ—Ä -->
      <div class="frai-cell tft-cell">
        <TFTScreenPanel
          v-model:isAvatarOn="isAvatarOn"
          avatarVideo="–ü—Ä–∏–≤–µ—Ç! –Ø F.R.A.I."
          placeholderText="–ó–¥–µ—Å—å –±—É–¥–µ—Ç –≤–∞—à TFT"
        />
      </div>

      <!-- 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ -->
      <div class="frai-cell mic-cell">
        <MicSettingsPanel
          v-model:micOn="micOn"
          v-model:micGain="micGain"
        />
      </div>

      <!-- 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–∏–Ω–∞–º–∏–∫–∞ -->
      <div class="frai-cell audio-cell">
        <AudioSettingsPanel
          v-model:audioOn="speakerOn"
          v-model:volume="speakerVolume"
        />
      </div>
    </div>

  </q-page>
</template>

<script setup lang="ts">
import { ref } from 'vue'

// –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã
import CameraPanel from '../components/camera/CameraPanel.vue'
import TFTScreenPanel from '../components/screen/TFTScreenPanel.vue'
import MicSettingsPanel from '../components/mic/MicSettingsPanel.vue'
import AudioSettingsPanel from '../components/mic/AudioSettingsPanel.vue'

// üì∑ –ö–∞–º–µ—Ä–∞
const cameraOn = ref(false)
const cameraFps = ref(30)
const actuatorAngleX = ref(90)
const actuatorAngleY = ref(90)
const previewWidth = ref(300)
const previewHeight = ref(250)

// üì∫ TFT-—ç–º—É–ª—è—Ç–æ—Ä
const isAvatarOn = ref(false)

// üé§ –ú–∏–∫—Ä–æ—Ñ–æ–Ω
const micOn = ref(false)
const micGain = ref(0.5)

// üîä –î–∏–Ω–∞–º–∏–∫
const speakerOn = ref(false)
const speakerVolume = ref(0.5)
</script>

<style scoped>
.frai-page {
  padding: 20px;
  box-sizing: border-box;
  height: 100vh;
  overflow: hidden;
}

.frai-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: 1fr 1fr;
  gap: 20px;
  height: 100%;
}

.frai-cell {
  display: flex;
}
.frai-cell > * {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.camera-cell {
  grid-column: 1 / 3;
  grid-row: 1;
}
.tft-cell {
  grid-column: 3 / 5;
  grid-row: 1;
  align-items: center;
}
.mic-cell {
  grid-column: 1 / 3;
  grid-row: 2;
}
.audio-cell {
  grid-column: 3 / 5;
  grid-row: 2;
}
</style>

# –ü—Ä–æ–µ–∫—Ç: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ AI-–∞–≥–µ–Ω—Ç–æ–≤ –¥–ª—è —É–º–Ω–æ–≥–æ –¥–æ–º–∞ –Ω–∞ –±–∞–∑–µ Home Assistant

## –¶–µ–ª—å

–°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å–∏—Å—Ç–µ–º—ã AI-–∞–≥–µ–Ω—Ç–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö ChatGPT (—á–µ—Ä–µ–∑ OpenAI API) –∏ –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–º–æ–º, –ª–∏—á–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏, –æ–±—É—á–µ–Ω–∏–µ–º –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ–º —Å Jira –∏ –¥—Ä—É–≥–∏–º–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏. –û—Å–Ω–æ–≤–Ω–æ–π —É–ø—Ä–∞–≤–ª—è—é—â–∏–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç ‚Äî –Ω–µ Home Assistant, –∞ –Ω–∞–¥—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–¥ –Ω–∏–º –≤ –≤–∏–¥–µ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å LangChain-–∞–≥–µ–Ω—Ç–∞–º–∏.

---

## üß± –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### üíª –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ

| –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ | ID –≤ HA (–µ—Å–ª–∏ –µ—Å—Ç—å) |
|-----------|-----------|-------------|----------------------|
| Raspberry Pi 4 Model B (8Gb) | –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —É–ø—Ä–∞–≤–ª—è—é—â–∏–π —É–∑–µ–ª | LAN (Ethernet) | - |
| USB Web-–∫–∞–º–µ—Ä–∞ A4Tech PK-720MJ | –ú–∏–∫—Ä–æ—Ñ–æ–Ω –∏ –∫–∞–º–µ—Ä–∞ | USB | - |
| –í–Ω–µ—à–Ω–∏–µ –¥–∏–Ω–∞–º–∏–∫–∏ | –ê—É–¥–∏–æ–≤—ã—Ö–æ–¥ | 3.5mm Jack | - |
| –ù–∞—Å—Ç–æ–ª—å–Ω–∞—è –ª–∞–º–ø–∞ (ESP32) | –£–ø—Ä–∞–≤–ª—è–µ–º–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ | WiFi | `switch.sonoff_10002ed516` |
| Google Home Hub | –ú—É–ª—å—Ç–∏–º–µ–¥–∏–∞ + UI | WiFi | `media_player.my_room_hub` |
| Yeelight Ceiling | –û—Å–Ω–æ–≤–Ω–æ–π —Å–≤–µ—Ç + —Å—Ü–µ–Ω–∞—Ä–∏–∏ | WiFi | `light.yeelight_ceiling_nightlight` |
| –¢–µ–ª–µ–≤–∏–∑–æ—Ä | AirPlay/–º–µ–¥–∏–∞ | LAN | `media_player.airplay_myroomtv` |
| –î–∞—Ç—á–∏–∫ –≤–ª–∞–∂–Ω–æ—Å—Ç–∏ | –°–µ–Ω—Å–æ—Ä | ZigBee/WiFi | `sensor.humidity_158d00022c656c` |
| –î–∞—Ç—á–∏–∫ –¥–∞–≤–ª–µ–Ω–∏—è | –°–µ–Ω—Å–æ—Ä | ZigBee/WiFi | `sensor.pressure_158d00022c656c` |
| –î–∞—Ç—á–∏–∫ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã | –°–µ–Ω—Å–æ—Ä | ZigBee/WiFi | `sensor.temperature_158d00022c656c` |
| –í—ã–∫–ª—é—á–∞—Ç–µ–ª–∏ –∫–æ—Ä–∏–¥–æ—Ä–∞ | –û—Å–≤–µ—â–µ–Ω–∏–µ –¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ | ZigBee/WiFi | `switch.light_hallway`, `switch.light_coridor` |

---

## ‚öôÔ∏è –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω–æ–µ –ü–û –Ω–∞ Raspberry Pi

- Raspberry Pi OS Lite(64-bit)
- Docker
- Home Assistant OS (Core 2025.4.4 / Supervisor 2025.04.1)
- MotionEye (–≤ –≤–∏–¥–µ –ø–ª–∞–≥–∏–Ω–∞ Home Assistant)
- HA Add-ons:
  - Assist Microphone
  - openWakeWord (wake word: "Nabu")
  - Whisper (faster-whisper) ‚Äî STT (Speech-to-Text)
  - Piper ‚Äî TTS (Text-to-Speech)
  - Speech-to-Phrase

### –û–±–ª–∞—á–Ω—ã–µ –∏ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã

- ChatGPT Plus (OpenAI API)
- Jira (–≤ –ø–ª–∞–Ω–∞—Ö)
- Netflix (–¥–ª—è —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤)

---

## üîå –°–µ—Ç—å –∏ –∞–¥—Ä–µ—Å–∞

| –ù–∞–∑–≤–∞–Ω–∏–µ | –ê–¥—Ä–µ—Å |
|---------|-------|
| –õ–æ–∫–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å HA | `https://raspberrypi.local:8123/` (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è `https://homeassistant.local:8123/`) |
| –í–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ DuckDNS | `https://antivariant.duckdns.org:8123/` |
| SSH-–¥–æ—Å—Ç—É–ø –∫ Pi | `ssh pi@192.168.31.81` (–ø–∞—Ä–æ–ª—å `masterkey`) |

---

## üì° –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

| –ò—Å—Ç–æ—á–Ω–∏–∫ ‚Üí –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –¶–µ–ª—å | –ú–µ—Ö–∞–Ω–∏–∑–º |
|-----------------------|------|----------|
| `Mic` ‚Üí `Whisper` | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—á–∏ –≤ —Ç–µ–∫—Å—Ç | PulseAudio + STT |
| `openWakeWord` ‚Üí `Assist Mic` | –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ –∫–ª—é—á–µ–≤–æ–º—É —Å–ª–æ–≤—É | –ª–æ–∫–∞–ª—å–Ω–æ |
| `Assist` ‚Üí `Dialog System (ChatGPT)` | –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ | OpenAI API |
| `Dialog System` ‚Üí `HA API` | –í–∫–ª—é—á–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ | REST API / WebSocket |
| `MotionEye` (–∫–∞–∫ –ø–ª–∞–≥–∏–Ω HA) ‚Üí (–≤ –±—É–¥—É—â–µ–º Vision Agent) | –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ | RTSP / HTTP |

---

## üìä –ü–ª–∞–Ω —Ä–∞–∑–≤–∏—Ç–∏—è

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ MVP-–∞–≥–µ–Ω—Ç–∞**, –≤–∫–ª—é—á–∞—é—â–µ–≥–æ –ª–∞–º–ø—É –ø–æ –∫–æ–º–∞–Ω–¥–µ.
2. **Agent-–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –∫–∞–º–µ—Ä—ã –∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (—Å–∏–¥–∏—Ç/–ª–µ–∂–∏—Ç/—É—à—ë–ª).
3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Jira**: —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏ —á–µ—Ä–µ–∑ –≥–æ–ª–æ—Å.
4. **–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç**: —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∏ –¥–∏–∞–ª–æ–≥–∏ –Ω–∞ –∏–∑—É—á–∞–µ–º—ã—Ö —è–∑—ã–∫–∞—Ö.
5. **–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —Ä—É—Ç–∏–Ω—ã**: –ò–ò –∫–∞–∫ —Ç—Ä–µ–Ω–µ—Ä –¥–ª—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è —Ä–∞—Å–ø–æ—Ä—è–¥–∫–∞ –¥–Ω—è.

---

## ‚öíÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ 10 —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Å –º–∏–∫—Ä–æ—Ñ–æ–Ω–æ–º, –∫–∞–º–µ—Ä–æ–π –∏ –¥–∏–Ω–∞–º–∏–∫–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, ESP32-CAM + I2S-–¥–∏–Ω–∞–º–∏–∫). –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `device_id` –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏ –ø–æ–ª—É—á–∞—Ç–µ–ª—è.

### üß© docker-compose.yml (–±–µ–∑ Home Assistant)

–í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã:
- MQTT –±—Ä–æ–∫–µ—Ä
- –ê—É–¥–∏–æ-—à–ª—é–∑
- STT (—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ)
- Vision Agent
- LangChain Agent
- TTS (–æ–∑–≤—É—á–∫–∞)
- Speaker Service (–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ)

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –ø–æ—Ç–æ–∫–∏ —Å `device_id` –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ—Ç–≤–µ—Ç—ã –∞–¥—Ä–µ—Å–Ω–æ.

### üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
ai-agents-home/
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ .env
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ langchain_config.yaml
‚îÇ   ‚îú‚îÄ‚îÄ devices.yaml
‚îÇ   ‚îî‚îÄ‚îÄ mqtt/
‚îú‚îÄ‚îÄ ai-agent-core/
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ audio-stream-gateway/
‚îÇ   ‚îú‚îÄ‚îÄ stt-service/
‚îÇ   ‚îú‚îÄ‚îÄ vision-agent/
‚îÇ   ‚îú‚îÄ‚îÄ tts-service/
‚îÇ   ‚îî‚îÄ‚îÄ speaker-service/
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ whisper/
‚îÇ   ‚îú‚îÄ‚îÄ tts/
‚îÇ   ‚îî‚îÄ‚îÄ vision/
‚îú‚îÄ‚îÄ data/
‚îú‚îÄ‚îÄ log/
‚îî‚îÄ‚îÄ README.md
```

---

## üìö –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ HA
- ChatGPT –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –æ–±–ª–∞—á–Ω–∞—è LLM
- –ó–∞–¥–∞—á–∞: –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—É—é —Ä–µ—á—å –≤ –∞–≥–µ–Ω—Ç —á–µ—Ä–µ–∑ API, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å HA-–∏–Ω—Ç–µ–Ω—Ç—ã
- –¶–µ–ª—å: Home Assistant ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π —Å–ª–æ–π, –∞ –Ω–µ –æ—Å–Ω–æ–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π
- –í –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —É–∂–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ 10+ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Å `device_id`, –≤–∫–ª—é—á–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é —Ä–µ—á–∏, –∫–æ–º–∞–Ω–¥ –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
